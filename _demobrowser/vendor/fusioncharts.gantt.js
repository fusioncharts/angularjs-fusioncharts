/*
 FusionCharts JavaScript Library - Gantt Chart
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.4.1
*/
FusionCharts.register("module",["private","modules.renderer.js-gantt",function(){var da=this,K=da.hcLib,Na=da.window,ta=/msie/i.test(Na.navigator.userAgent)&&!Na.opera,rb=K.chartAPI,Oa=K.chartAPI,cb=K.extend2,e=K.pluck,d=K.pluckNumber,pa=K.getFirstColor,Ka=K.graphics,X=Ka.convertColor,db=Ka.getDarkColor,dc=Ka.parseColor,Da=K.parseUnsafeString,Ea=K.getFirstValue,Xb=K.getValidValue,ka=K.Raphael,ec=K.COMMASTRING,Pa=K.setLineHeight,Db=K.getDashStyle,Eb=K.toRaphaelColor,eb=K.each,fc=K.FC_CONFIG_STRING,
La="rgba(192,192,192,"+(ta?.002:1E-6)+")",Yb=Ka.mapSymbolName,ta=Math,Ma=ta.ceil,ua=ta.round,V=ta.max,Ca=ta.min,gc=ta.abs,Qa=parseInt,Fb=parseFloat,hc={pageX:0,pageY:0},Y=K.plotEventHandler,ha,na,sb=K.hasTouch=void 0!==Na.document.documentElement.ontouchstart,ic=K.addEvent,jc=K.removeEvent,fb=function(b){return void 0!==b&&null!==b},Ra={left:"start",right:"end",center:"middle"},Sa={left:0,right:1,center:.5,undefined:.5},tb={top:1,bottom:0,middle:.5,undefined:.5},gb={left:5,right:-5,center:0,undefined:0},
Fa=function(b,a){this.min=b.min;this.max=d(b.visibleMax,b.max);this.pixelValueRatio=a/(this.max-this.min);this.startPixel=b.chart.marginLeft+b.chart.ganttStartX};Fa.prototype={getPixel:function(b){return this.startPixel+(b-this.min)*this.pixelValueRatio}};Fa.prototype.constructor=Fa;rb("gantt",{friendlyName:"Gantt Chart",rendererId:"gantt",standaloneInit:!0,defaultSeriesType:"gantt",canvasborderthickness:1,defaultPlotShadow:1,creditLabel:!1,fireGroupEvent:!0,defaultPaletteOptions:function(){var b=
arguments;return K.extend2(K.extend2(K.extend2(K.extend2({},b[0]),b[1]),b[2]),b[3])}(cb({},K.defaultGaugePaletteOptions),{paletteColors:["AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),
"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" ")],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100",
"100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6",
"F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE",
"D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]}),charttopmargin:10,chartbottommargin:20,series:function(){var b=this.dataObj,a=b.chart,I=(I=b.categories)||[],c=I.length,r=this.hcJSON,g=r.chart,t=r[fc],p=this.smartLabel,f=this.colorManager,h=r.categories={},v=[],B=this.inCanvasStyle,q=this.numberFormatter,z=Infinity,l=-Infinity,n=g.origW-g.marginLeft-g.marginRight,F=g.origH-g.marginTop-g.marginBottom,m=b.processes||{},k=m&&m.process,x=k&&k.length,
u=Qa(B.fontSize,10),O=b.datatable,S=O&&O.datacolumn,D=S&&S.length,ea=b.connectors,L=ea&&ea.length,M=r.connectors=[],N=b.milestones&&b.milestones.milestone,C=N&&N.length,Z=r.milestone=[],E=b.tasks,$=E&&E.task,J=$&&$.length,w=0,s=0,Zb=d(a.forceganttwidthpercent,0),aa=0,Y=0,na=!1,ka={top:"top",bottom:"bottom"},A={top:"top",bottom:"bottom",undefined:"middle"},Q={right:"right",left:"left"},ba={right:"right",left:"left",undefined:"center"},G=r.dataTable={},hb=Infinity,ib=-Infinity,ha=r.processIDMap=[],
da,ta,Ma=d(a.dateintooltip,1),Ka=b.legend&&b.legend.item,Fa=r.tasksMap||(r.tasksMap={}),za,Gb,Hb,jb,ub,Na,Ib,Jb,qa,va,Aa,Oa,eb,Ra,Sa,vb,gb,wa,oa,kb,R,Kb,Ta,Ua,Lb,Mb,Ba,la,ma,Va,Wa,Xa,lb,Ya,Za,Ga,Ha,fa,rb,Pb,ga,ja,ca,mb,nb,$a,T,H,Qb,ab,wb,Ia,xb,Rb,Nb,ob,Sb,yb,zb,Ab,Bb,Cb,Ob,pb,sb,tb,$b,ac,Ja,U,bc,ra,P,xa,ya,qb,ia,Tb,Ub,Vb,Wb,sa,bb,cc,y,W;if(x){r.tasks=[];delete r.yAxis;delete r.xAxis;g.backgroundColor=X(e(a.bgcolor,"FFFFFF"),e(a.bgalpha,f.getColor("bgAlpha")));d(a.showborder,0)||(g.borderWidth=0);
g.plotBorderColor=X(e(a.canvasbordercolor,f.getColor("canvasBorderColor")),0===d(a.showcanvasborder,1)?0:e(a.canvasborderalpha,100));g.backgroundColor={FCcolor:{color:e(a.bgcolor,"FFFFFF"),alpha:e(a.bgalpha,f.getColor("bgAlpha")),angle:e(a.bgangle,f.getColor("bgAngle")),ratio:e(a.bgratio,f.getColor("bgRatio"))}};g.plotBackgroundColor={FCcolor:{color:e(a.canvasbgcolor,f.getColor("canvasBgColor")),alpha:e(a.canvasbgalpha,f.getColor("canvasBgAlpha")),angle:e(a.canvasbgangle,f.getColor("canvasBgAngle")),
ratio:e(a.canvasbgratio,f.getColor("canvasBgRatio"))}};g.plotBorderWidth=d(a.canvasborderthickness,1);g.outputDateFormat=e(a.outputdateformat,g.dateFormat);g.extendCategoryBg=d(a.extendcategorybg,0);g.ganttLineColor=X(e(a.ganttlinecolor,f.getColor("gridColor")),d(a.ganttlinealpha,100));g.ganttLineThickness=d(a.ganttlinethickness,1);g.ganttLineDashStyle=d(a.ganttlinedashed,0)?Db(d(a.ganttlinedashlen,1),a.ganttlinedashgap,g.ganttLineThickness):void 0;g.gridBorderColor=X(e(a.gridbordercolor,f.getColor("gridColor")),
d(a.gridborderalpha,100));g.gridBorderThickness=d(a.gridborderthickness,1);g.gridBorderDashStyle=d(a.gridborderdashed,0)?Db(d(a.gridborderdashlen,1),a.gridborderdashgap,g.gridborderThickness):void 0;g.showSlackAsFill=d(a.showslackasfill,1);g.slackFillColor=pa(e(a.slackfillcolor,"FF5E5E"));g.gridResizeBarColor=X(e(a.gridresizebarcolor,f.getColor("gridResizeBarColor")),d(a.gridresizebaralpha,100));g.gridResizeBarThickness=d(a.gridresizebarthickness,1);g.taskBarRoundRadius=d(a.taskbarroundradius,0);
g.taskBarFillMix=a.taskbarfillmix;g.taskBarFillRatio=a.taskbarfillratio;void 0===g.taskBarFillMix&&(g.taskBarFillMix="{light-10},{dark-20},{light-50},{light-85}");void 0===g.taskBarFillRatio&&(g.taskBarFillRatio="0,8,84,8");g.connectorExtension=d(a.connectorextension,10);g.clickURL=e(a.clickurl,"");g.annRenderDelay=a.annrenderdelay;g.taskDatePadding=d(a.taskdatepadding,3);g.taskLabelPadding=d(a.tasklabelspadding,2);g.ganttStartX=d(a.ganttwidthpercent,65);100<g.ganttStartX&&(g.ganttStartX=100);Aa=
g.ganttStartX=.01*(100-g.ganttStartX)*n;g.gridWidth=n-g.ganttStartX;cc=d(a.showfulldatatable,1);$a=m.width;$a=d(g.ganttStartX*(/\%/g.test($a)&&.01*Fb($a,10))||$a);Aa-=d($a,0);da=ua($a);Y+=1;for(y=0;y<D;y+=1)Ib=S[y].width,Jb=d(g.ganttStartX*(/\%/g.test(Ib)&&.01*Fb(Ib,10))||Ib),Aa-=d(Jb,0),Jb=S[y].width=ua(Jb),Y+=1;0<=Aa?Aa/=Y:(na=!0,Aa=g.ganttStartX/Y);if(Zb||!cc)for((isNaN(da)||na)&&(da=Aa),y=0;y<D;y+=1)(isNaN(S[y].width)||na)&&(S[y].width=Aa);for(y=0;y<c;y+=1){ja=I[y];z=Infinity;l=-Infinity;mb=e(ja.bgcolor,
f.getColor("categoryBgColor"));nb=d(ja.bgalpha,100);Va=e(ja.font,B.fontFamily);Wa=d(ja.fontsize,u+1);Xa=e(ja.fontcolor,B.color);lb=d(ja.isbold,1);Ya=d(ja.isitalic,0);Za=d(ja.isunderline,0);d(ja.verticalpadding,3);Ga=e(ja.align,"center").toLowerCase();Ha=e(ja.valign,"middle").toLowerCase();rb=(Pb=ja.category)&&Pb.length;Ja=0;ia={};for(W=0;W<rb;W+=1)ga=Pb[W],la=q.getDateValue(ga.start).ms,ma=q.getDateValue(ga.end).ms,isNaN(la)&&(la=void 0),la>l&&(l=la),la<=z&&(z=la),isNaN(ma)&&(ma=void 0),ma>l&&(l=
ma),ma<=z&&(z=ma),fa=Da(e(ga.label,ga.name)),U={color:pa(e(ga.fontcolor,Xa)),fontFamily:e(ga.font,Va),fontSize:d(ga.fontsize,Wa)+"px",fontWeight:d(ga.isbold,lb)&&"bold"||"normal",fontStyle:d(ga.isitalic,Ya)&&"italic"||"normal",textDecoration:d(ga.isunderline,Za)&&"underline"||"none"},Pa(U),p.setStyle(U),qa=p.getOriSize(fa),Ja=V(Ja,qa.height),P="FCCAT_"+y+"_"+W,Gb=e(ga.hoverbandcolor,ja.hoverbandcolor,a.categoryhoverbandcolor,a.hoverbandcolor,f.getColor("gridColor")),Hb=d(ga.hoverbandalpha,ja.hoverbandalpha,
a.categoryhoverbandalpha,a.hoverbandalpha,30),jb=d(ga.showhoverband,ja.showhoverband,a.showcategoryhoverband,a.showhoverband,a.showhovereffect,1),h[P]={text:fa,style:U,start:la,end:ma,index:W,isLast:y===c-1,bgColor:X(e(ga.bgcolor,mb),d(ga.bgalpha,nb)),dimension:ia,link:ga.link,align:ba[[e(ga.align,Ga).toLowerCase()]],vAlign:A[ka[e(ga.valign,Ha).toLowerCase()]],hoverColor:X(Gb,Hb),useHover:jb,usePlotHover:d(ga.showganttpanehoverband,ja.showganttpanehoverband,a.showganttpaneverticalhoverband,jb)},h[xa]&&
(h[xa].nextCol=h[P],h[P].prevCol=h[xa]),xa=P;if(wb=h["FCCAT_"+y+"_0"])h[P].first=wb,wb.last=h[P],h[ab]&&(h[ab].nextRow=wb,wb.prevRow=h[ab]);ab=P;ia.h=Ja+5+2*d(ja.verticalpadding,3);ia.y=s;ia.min=z;ia.max=l;ia.numCat=W;s+=ia.h;ib=V(ib,l);hb=Ca(hb,z)}h.min=hb;h.max=ib;if(x){Ja=va=0;bb="right"===e(m.positioningrid,"left").toLowerCase();U={color:pa(e(m.headerfontcolor,B.color)),fontFamily:e(m.headerfont,B.fontFamily),fontSize:d(m.headerfontsize,u+3)+"px",fontWeight:d(m.headerisbold,1)&&"bold"||"normal",
fontStyle:d(m.headerisitalic,0)&&"italic"||"normal",textDecoration:d(m.headerisunderline,0)&&"underline"||"none"};Pa(U);fa=Da(m.headertext);p.setStyle(U);qa=p.getOriSize(fa);va=V(va,qa.width);Ga=ba[Q[e(m.headeralign,"center").toLowerCase()]];Ha=A[ka[e(m.headervalign,"middle").toLowerCase()]];ia={};P=ya=ab="processHeader";G.processHeader={text:fa,style:U,align:Ga,vAlign:Ha,isHeader:!0,link:e(m.headerlink),dimension:{x:0,w:0,h:V(qa.height,s)},bgColor:X(e(m.headerbgcolor,f.getColor("dataTableBgColor")),
d(m.headerbgalpha,100)),key:P,isLast:bb,drawResizer:!bb&&D,prevCol:null,nextCol:null,prevRow:null,nextRow:null};mb=e(m.bgcolor,f.getColor("dataTableBgColor"));nb=d(m.bgalpha,100);Va=e(m.font,B.fontFamily);Wa=d(m.fontsize,u);Xa=e(m.fontcolor,B.color);lb=d(m.isbold,0);Ya=d(m.isitalic,0);Za=d(m.isunderline,0);Ga=e(m.align,"center").toLowerCase();Ha=e(m.valign,"middle").toLowerCase();for(y=0;y<x;y+=1)ca=k[y],Gb=e(ca.hoverbandcolor,m.hoverbandcolor,a.processhoverbandcolor,a.hoverbandcolor,f.getColor("gridColor")),
Hb=d(ca.hoverbandalpha,m.hoverbandalpha,a.processhoverbandalpha,a.hoverbandalpha,30),jb=d(ca.showhoverband,m.showhoverband,a.showprocesshoverband,a.showhoverband,a.showhovereffect,1),U={color:pa(e(ca.fontcolor,Xa)),fontSize:d(ca.fontsize,Wa)+"px",fontFamily:e(ca.font,Va),fontWeight:d(ca.isbold,lb)&&"bold"||"normal",fontStyle:d(ca.isitalic,Ya)&&"italic"||"normal",textDecoration:d(ca.isunderline,Za)&&"underline"||"none"},Pa(U),fa=Da(e(ca.label,ca.name)),p.setStyle(U),qa=p.getOriSize(fa),Ja=V(Ja,qa.height),
va=V(va,qa.width),xa=P,P=e(ca.id,"__FCDPID__"+y).toUpperCase(),G[P]&&(P="__FCDPID__"+y),ha[y]=P,G[P]={text:qa.text,style:U,link:ca.link,id:P,align:ba[[e(ca.align,Ga).toLowerCase()]],vAlign:A[ka[e(ca.valign,Ha).toLowerCase()]],bgColor:X(e(ca.bgcolor,mb),d(ca.bgalpha,nb)),prevCol:G[xa],dimension:ia,hoverColor:X(Gb,Hb),useHover:jb,usePlotHover:d(ca.showganttpanehoverband,m.showganttpanehoverband,a.showganttpanehorizontalhoverband,jb),isLast:bb,nextCol:null,prevRow:null,nextRow:null},G[xa]&&(G[xa].nextCol=
G[P]);G[P].first=G[ya];G[ya].last=G[P];G[ya].processCount=x;G[ya].maxProcessHeight=Ja+8;ta=Ja+8;isNaN(da)&&(da=va+10);aa+=da;ia.x=0;G[ya].dimension.w=ia.w=da;ia.h=ta=V((F-G[ya].dimension.h)/x,ta)}bb&&(aa=0);if(D)for(r.datacolumns=[],y=0;y<D;y+=1){T=S[y];va=0;mb=pa(e(T.bgcolor,O.bgcolor,f.getColor("dataTableBgColor")));nb=d(T.bgalpha,O.bgalpha,100);Va=e(T.font,O.font,B.fontFamily);Xa=pa(e(T.fontcolor,O.fontcolor,B.color));Wa=d(T.fontsize,O.fontsize,u);lb=d(T.isbold,O.isbold,0);Ya=d(T.isitalic,O.isitalic,
0);Za=d(T.isunderline,O.isunderline,0);Ga=ba[Q[e(T.align,O.align,"center").toLowerCase()]];Ha=A[ka[e(T.valign,O.valign,"middle").toLowerCase()]];U={color:pa(e(T.headerfontcolor,O.headerfontcolor,Xa)),fontFamily:e(T.headerfont,O.headerfont,Va),fontSize:d(T.headerfontsize,O.headerfontsize,Wa+3)+"px",fontWeight:d(T.headerisbold,O.headerisbold,1)&&"bold"||"normal",fontStyle:d(T.headerisitalic,O.headerisitalic,Ya)&&"italic"||"normal",textDecoration:d(T.headerisunderline,O.headerisunderline,Za)&&"underline"||
"none"};Pa(U);fa=Da(T.headertext);p.setStyle(U);qa=p.getOriSize(fa);va=V(va,qa.width);P=ya="_FCDtHeader_"+y;kb=G[P]={text:fa,style:U,align:ba[Q[e(T.headeralign,O.headeralign,Ga).toLowerCase()]],vAlign:A[ka[e(T.headervalign,O.headervalign,Ha).toLowerCase()]],link:e(T.headerlink),drawResizer:bb||y<D-1,dimension:{x:0+aa,w:T.width,h:G.processHeader&&G.processHeader.dimension.h},isHeader:!0,key:P,bgColor:X(e(T.headerbgcolor,O.headerbgcolor,f.getColor("dataTableBgColor")),d(T.headerbgalpha,O.headerbgalpha,
100))};kb.data=[];bc=T.text||[];qb=G.processHeader;Ia=G[ab];Ia.nextRow=G[P];G[P].prevRow=Ia;qb=qb.nextCol;Ia=Ia.nextCol;ia={};ab=ya;for(W=0;qb;qb=qb.nextCol,Ia=Ia.nextCol,W+=1)xa=P,P="_FCDt_"+y+"_"+W,(ra=bc[W])?(U={fontFamily:e(ra.font,Va),color:pa(e(ra.fontcolor,Xa)),fontSize:d(ra.fontsize,Wa)+"px",fontWeight:d(ra.isbold,lb)&&"bold"||"normal",fontStyle:d(ra.isitalic,Ya)&&"italic"||"normal",textDecoration:d(ra.isunderline,Za)&&"underline"||"none"},Pa(U),p.setStyle(U),fa=Da(ra.label),qa=p.getOriSize(fa),
va=V(va,qa.width),G[P]={text:fa,style:U,link:e(ra.link,""),bgColor:X(e(ra.bgcolor,mb),d(ra.bgalpha,nb)),align:ba[Q[e(ra.align,Ga).toLowerCase()]],vAlign:A[ka[e(ra.valign,Ha).toLowerCase()]],prevCol:G[xa],dimension:ia,nextCol:null,nextRow:null,prevRow:null}):G[P]={prevCol:G[xa],dimension:ia,isNaN:!0,nextCol:null,nextRow:null,prevRow:null},G[xa].nextCol=G[P],G[P].prevRow=Ia,Ia.nextRow=G[P],G[P].hoverColor=G[ha[W]].hoverColor,G[P].useHover=G[ha[W]].useHover,G[P].usePlotHover=G[ha[W]].usePlotHover;G[P].first=
G[ya];G[ya].last=G[P];isNaN(T.width)?kb.width=va+10:kb.width=T.width;ia.x=0+aa;aa+=G[ya].dimension.w=ia.w=kb.width;ia.h=ta;r.datacolumns.push(kb)}bb&&(ca=G.processHeader,ca.dimension.x=ca.nextCol.dimension.x=aa,aa+=da);Zb||(g.ganttStartX=Ca(g.ganttStartX,aa));g.totalGridWidth=aa;Ub=b.trendlines||{};r.trendlines=[];for(y=0;y<Ub.length;y+=1)for(C=(Vb=Ub[y].line)&&Vb.length,W=0;W<C;W+=1)sa=Vb[W],Wb=d(sa.istrendzone,0),Ba=e(sa.color,f.getColor("legendBorderColor")),U=cb({},t.trendStyle),U.color=X(Ba),
Pa(U),r.trendlines.push({start:q.getDateValue(sa.start).ms,end:q.getDateValue(sa.end).ms,displayValue:Da(e(sa.displayvalue,sa.start)),color:X(Ba,d(sa.alpha,Wb?40:99)),style:U,isTrendZone:Wb,dashedStyle:d(sa.dashed,0)?Db(d(sa.dashlen,3),d(sa.dashgap,3),d(sa.thickness,1)):void 0,thickness:d(sa.thickness,1)});if(J){z=Infinity;l=-Infinity;d(a.taskbarroundradius,0);Ua=a.taskbarfillmix;Lb=a.taskbarfillratio;void 0===Ua&&(Ua="{light-10},{dark-20},{light-50},{light-85}");void 0===Lb&&(Lb="0,8,84,8");g.shadow=
d(a.showshadow,1);Na=d(a.showslackasfill,1);for(y=0;y<J;y+=1)H=$[y],Qb=w%x,la=q.getDateValue(H.start).ms,ma=q.getDateValue(H.end).ms,P=e(G[Ea(H.processid,"").toUpperCase()],G["__FCDPID__"+Qb],G[ha[Qb]]).id.toUpperCase(),xb=d(H.alpha,E.alpha,100),Ba=e(H.color,E.color,f.getColor("plotFillColor")),Nb=d(H.borderalpha,E.borderalpha,100),Rb=e(H.bordercolor,E.bordercolor,f.getColor("plotBorderColor")),isNaN(la)&&(la=void 0),la>l&&(l=la),la<=z&&(z=la),isNaN(ma)&&(ma=void 0),ma>l&&(l=ma),ma<=z&&(z=ma),U={color:pa(e(H.fontcolor,
E.fontcolor,B.color)),fontSize:d(H.fontsize,E.fontsize,u)+"px",fontFamily:e(H.font,E.font,B.fontFamily)},Pa(U),w+=1,ob=f.parseColorMix(Ba,Ua),Sb=f.parseAlphaList(xb.toString(),ob.length),yb=f.parseRatioList(Lb,ob.length),zb=d(H.angle,E.angle,270),Ob=f.parseColorMix(e(H.slackfillcolor,E.slackfillcolor,a.slackfillcolor,"FF5E5E"),Ua),pb=Ca(d(H.percentcomplete,-1),100),fa=Ea(e(H.label,H.name),""),Cb="",d(H.showlabel,H.showname,E.showlabels,E.showname,a.showtasklabels,a.showtasknames,0)&&(Cb=fa),d(H.showpercentlabel,
E.showpercentlabel,a.showpercentlabel,0)&&-1!==pb&&(Cb+=" "+pb+"%"),sb={FCcolor:{color:ob.join(),alpha:Sb,ratio:yb,angle:zb}},Ob=Na?{FCcolor:{color:Ob.join(),alpha:Sb,ratio:yb,angle:zb}}:La,tb={FCcolor:{color:f.parseColorMix(e(H.hoverfillcolor,E.hoverfillcolor,a.taskhoverfillcolor,db(Ba,80)),Ua).join(),alpha:f.parseAlphaList(e(H.hoverfillalpha,E.hoverfillalpha,a.taskhoverfillalpha,xb).toString(),ob.length),ratio:yb,angle:zb}},$b=X(e(H.hoverbordercolor,E.hoverbordercolor,a.taskhoverbordercolor,db(Rb,
80)),e(H.hoverborderalpha,E.hoverborderalpha,a.taskhoverborderalpha,Nb)),ac=Na?{FCcolor:{color:f.parseColorMix(db(e(H.slackhoverfillcolor,E.slackhoverfillcolor,a.slackhoverfillcolor,a.slackfillcolor,"FF5E5E"),80),Ua).join(),alpha:f.parseAlphaList(e(H.slackhoverfillalpha,E.slackhoverfillalpha,a.slackhoverfillalpha,xb).toString(),ob.length),ratio:yb,angle:zb}}:La,Ab=q.getFormattedDate(la),Bb=q.getFormattedDate(ma),za=Xb(Da(e(H.tooltext,H.hovertext,E.plottooltext,t.tooltext))),za=void 0!==za?K.parseTooltext(za,
[3,28,29,30,31],{end:Bb,start:Ab,label:fa,percentComplete:-1!==pb?q.percentValue(pb):"",processName:G[P]&&G[P].text},H):(""!==fa?fa+(Ma?", ":""):"")+(Ma?Ab+" - "+Bb:""),Ta=Ea(H.id,"").toUpperCase(),Fa[Ea(Ta,y)]={dataObj:{processId:P,label:Cb,labelAlign:ba[[e(H.labelalign,a.tasklabelsalign,"center").toLowerCase()]],link:H.link,start:la,end:ma,id:Ea(H.id,"").toUpperCase(),showAsGroup:d(H.showasgroup,0),animation:d(H.animation,a.animation,a.defaultanimation,1),style:U,percentComplete:pb,color:Eb(sb),
slackColor:Eb(Ob),hoverFillColor:Eb(tb),hoverBorderColor:$b,slackHoverColor:Eb(ac),showHoverEffect:d(H.showhovereffect,E.showhovereffect,a.showtaskhovereffect,a.showhovereffect,1),shadow:{opacity:V(xb,Nb)/100,inverted:!0},borderColor:X(Rb,Nb),borderThickness:d(H.showborder,E.showborder,1)?d(H.borderthickness,E.borderthickness,1):0,height:e(H.height,"35%"),topPadding:e(H.toppadding,"35%"),showPercentLabel:d(H.showpercentlabel,E.showpercentlabel,a.showpercentlabel,0),startDate:d(H.showstartdate,E.showstartdate,
a.showtaskstartdate)?Ab:void 0,endDate:d(H.showenddate,E.showenddate,a.showtaskenddate)?Bb:void 0,toolText:za,_start:H.start,_end:H.end,_formatSDate:Ab,_formatEDate:Bb,_label:fa}},v.push(Fa[Ea(Ta,y)].dataObj);ib=V(ib,l);hb=Ca(hb,z)}r.series.push({showInLegend:!1,data:v});C=N&&N.length;for(y=0;y<C;y+=1)R=N[y],Ta=Ea(R.taskid,"").toUpperCase(),Mb=e(R.shape,"polygon").toLowerCase(),Kb=d(R.numsides,5),Tb=0,"star"===Mb?Tb=.4:(Mb=Yb(Kb),Mb=Yb(Kb).split("-")[0]),Ba=e(R.color,f.getColor("legendBorderColor")),
za=Xb(Da(e(R.tooltext,R.hovertext,a.milestonetooltext))),void 0!==za&&Fa[Ta]?(H=Fa[Ta].dataObj,za=K.parseTooltext(za,[28,32,33,34,35,36],{date:q.getFormattedDate(R.date),taskStartDate:H._formatSDate,taskEndDate:H._formatEDate,taskLabel:H._label,taskPercentComplete:-1!==H.percentComplete?q.percentValue(H.percentComplete):"",processName:G[H.processId]&&G[H.processId].text},R)):za=q.getFormattedDate(R.date),Z.push({numSides:Kb,startAngle:d(R.startangle,90),radius:R.radius,origDate:R.date,date:q.getDateValue(R.date),
fillColor:pa(Ba),fillAlpha:.01*d(R.fillalpha,R.alpha,100),borderColor:pa(e(R.bordercolor,Ba)),borderAlpha:.01*d(R.borderalpha,R.alpha,100),hoverFillColor:pa(e(R.hoverfillcolor,a.milestonehoverfillcolor,db(Ba,80))),hoverFillAlpha:.01*d(R.hoverfillalpha,a.milestonehoverfillalpha,R.fillalpha,R.alpha,100),hoverBorderColor:pa(e(R.hoverbordercolor,a.milestonehoverbordercolor,db(e(R.bordercolor,Ba),80))),hoverBorderAlpha:.01*d(R.hoverborderalpha,a.milestonehoverborderalpha,R.borderalpha,R.alpha,100),showHoverEffect:d(R.showhovereffect,
a.showmilestonehovereffect,a.showhovereffect,1),depth:Tb,taskId:Ta,borderThickness:d(R.borderthickness,1),link:R.link,toolText:za});for(y=0;y<L;y+=1)if(eb=(Oa=(wa=ea[y])&&wa.connector)&&Oa.length)for(W=0;W<eb;W+=1)oa=Oa[W],Ra=e(oa.color,wa.color,f.getColor("plotBorderColor")),Sa=d(oa.alpha,wa.alpha,100),vb=d(oa.thickness,wa.thickness,1),gb=d(oa.isdashed,wa.isdashed,1),M.push({fromTaskId:Ea(oa.fromtaskid,"").toUpperCase(),toTaskId:Ea(oa.totaskid,"").toUpperCase(),fromTaskConnectStart:d(oa.fromtaskconnectstart,
0),toTaskConnectStart:d(oa.totaskconnectstart,1),color:X(Ra),alpha:.01*Sa,link:oa.link,showHoverEffect:d(oa.showhovereffect,wa.showhovereffect,a.showconnectorhovereffect,a.showhovereffect,1),hoverColor:X(e(oa.hovercolor,wa.hovercolor,a.connectorhovercolor,db(Ra,80)),d(oa.hoveralpha,wa.hoveralpha,a.connectorhoveralpha,Sa)),hoverThickness:d(oa.hoverthickness,wa.hoverthickness,a.connectorhoverthickness,vb),thickness:vb,dashedStyle:gb?Db(d(oa.dashlen,wa.dashlen,5),d(oa.dashgap,wa.dashgap,vb),vb):void 0});
r.legend.enabled=Boolean(d(a.showlegend,1));r.legend.interactiveLegend=!1;r.legend.itemStyle.cursor="default";r.legend.itemHoverStyle={cursor:"inherit"};C=Ka&&Ka.length;for(y=0;y<C;y+=1)ub=Ka[y],fb(ub.label)&&""!==ub.label&&r.series.push({name:Da(ub.label),showInLegend:!0,type:!1,color:dc(e(ub.color,f.getPlotColor()))});r.max=ib;r.min=hb;r.chart.hasScroll=!0;return r}},spaceManager:function(b,a,I,c){this.titleSpaceManager(b,a,I,.3*c);var r=this.numberFormatter,g=b.chart,t=a.chart,p=b.dataTable,f=
b.categories,h=b.scrollOptions={},v=p.__scrollOptions={},p=p.processHeader;c=c-g.marginTop-g.marginBottom;I=I-g.marginLeft-g.marginRight;var B=g.totalGridWidth,q=b.verticalScroll={enabled:d(t.useverticalscrolling,1)},z=d(t.ganttpaneduration,-1),l=e(t.ganttpanedurationunit,"s").toLowerCase(),r=r.getDateValue(t.scrolltodate).ms,n=p&&p.maxProcessHeight;if(p){b.legend.enabled&&(c-=this.placeLegendBlockBottom(b,a,I,c/2));c-=p.dimension.h;h.padding=d(t.scrollpadding,b.chart.plotBorderWidth/2);h.height=
d(t.scrollheight,16);h.showButtons=!!d(t.scrollshowbuttons,1);h.buttonPadding=d(t.scrollbtnpadding,0);h.flatScrollBars=d(t.flatscrollbars,0);h.color=pa(e(t.scrollcolor,this.colorManager.getColor("altHGridColor")));a=h.height+h.padding;B>g.ganttStartX&&(v.enabled=!0,v.startPercent=Boolean(d(t.scrolltoend,0)));I-=g.ganttStartX;f.scroll={};h=new Date(f&&f.min);if(-1!==z){switch(l){case "y":h.setYear(h.getFullYear()+z);break;case "m":h.setMonth(h.getMonth()+z);break;case "d":h.setDate(h.getDate()+z);
break;case "h":h.setHours(h.getHours()+z);break;case "mn":h.setMinutes(h.getMinutes()+z);break;default:h.setSeconds(h.getSeconds()+z)}h=h.getTime();h>b.min&&h<b.max&&(b.visibleMax=h,f.scroll.enabled=!0)}if(v.enabled||f.scroll.enabled)c-=a;v=c/p.processCount;n=d(t.rowheight,n);0<n-v&&(n=3>n-v?v:c/ua(c/n));p.maxProcessHeight=n;q.enabled&&v<n?(v=n,q.startPercent=Boolean(d(t.scrolltoend,0)),I-=a):q.enabled=!1;f.scroll.startPercent=d(t.scrolltoend,0);if(Infinity===b.min||-Infinity===b.max||b.min===b.max)b.min=
f.min=0,b.max=f.max=1;if(Infinity===f.min||-Infinity===f.max)f.min=b.min,f.max=b.max;f.axis=new Fa(b,I);f.startX=f.axis.getPixel(Ca(f.min,b.min));f.endX=f.axis.getPixel(V(f.max,b.max));f.visibleW=I;r&&r>f.min&&r<f.max&&(f.scroll.startPercent=Ca((f.axis.getPixel(r)-f.startX)/(f.endX-f.startX-f.visibleW),1));for(g.processHeight=c+p.dimension.h;p;)p.nextCol&&(p.nextCol.dimension.h=v),p=p.nextRow}}},rb.gaugebase);Oa("renderer.gantt",{drawProcess:function(b){var a=this,d=a.options,c=d.chart,r=a.paper,
g=a.logic,t=g.smartLabel,p=a.canvasTop,f=a.canvasLeft,h=a.layers,v=h.gridLayer,B=h.gridHeaderLayer,q=c.gridBorderThickness,z=.5*q,l=c.gridBorderColor,n=c.gridBorderDashStyle,F=0,m=0,k=[],x=p,u=b.dimension.w||16,O=b.dimension.x||0,S=d.dataTable.processHeader,D=S.nextCol.dimension.h,ea=S.dimension.h+S.processCount*S.nextCol.dimension.h,g=X(e(g.dataObj.chart.rolloverbandcolor,"#FF0000"),e(g.dataObj.chart.rolloverbandalpha,30)),L=S.items||(S.items={}),d=d.categories||{},M,N,C,Z,E,$,J,w,s,K,aa;L.hoverEle||
(L.hoverEle=r.rect(d.startX,0,d.endX,D,0,h.dataset).attr({fill:g,visibility:"hidden","stroke-width":0}));s=function(b){Y.call(this,a,b,"ProcessClick")};K=function(b){ha=clearTimeout(ha);na&&a.gridOutHandler.call(na);na=null;a.gridHoverHandler.call(this);Y.call(this,a,b,"ProcessRollOver")};for(aa=function(b){na=this;ha=clearTimeout(ha);ha=setTimeout(function(){a.gridOutHandler.call(na)},500);Y.call(na,a,b,"ProcessRollOut")};b;)w=b.dimension,J=f+O,C=b.text,C=b.align,L=b.items||(b.items={}),D=b.link,
N=b.isHeader?B:v,Z=L.background,d=Ma(x+m)-.5,C={x:Ma(J+F)-.5,y:d,width:u+.5,height:w.h+z+.5,radius:0,fill:b.bgColor||La,"stroke-dasharray":n,stroke:l,cursor:D?"pointer":"","stroke-width":0},Z?Z.attr(C):(L.background=r.rect(N).attr(C).hover(K,aa),M={isHeader:b.isHeader,label:b.text,vAlign:b.vAlign,align:b.align,link:b.link,id:b.id},L.background.click(s).data("dataObj",b).data("eventArgs",M).data("data",{y:d,gridObj:b,rollOverColor:g,useHover:!0,useNext:!0,hoverEle:S.items.hoverEle})),b.isNaN||(w=b.dimension,
C=b.text,C=b.align,Z=L.label,C=b.text,fb(C)&&""!==C&&($=b.style,t.setStyle($),E=t.getSmartText(C,u-8,V(Qa($.lineHeight,10),w.h)),$.title=E.oriText,C=b.align,C={text:E.text,x:J+u*Sa[C]+gb[C],y:x+w.h-w.h*tb[b.vAlign],"text-anchor":Ra[C],cursor:D?"pointer":"","vertical-align":b.vAlign},Z?Z.attr(C):L.label=r.text(N).attr(C).css($).hover(K,aa).click(s).data("eventArgs",M).data("dataObj",b).data("data",{y:d,gridObj:b,rollOverColor:g,useHover:!0,useNext:!0,hoverEle:S.items.hoverEle}))),b.xPos=J,b.yPos=Ma(x+
w.h)-q%2*.5,k.push("M",J,b.yPos,"h",u),(Z=L.hBorder)?Z.attr("path",k):L.hBorder=r.path(k,N).attr({"stroke-dasharray":n,stroke:l,"stroke-width":q}),x+=w.h,b.nextCol||(F=z,m-=0,Z=b.first.items.vBorder,C=["M",Ma(J+u)-q%2*.5,p,"v",ea],Z?Z.attr("path",C):b.first.items.vBorder=r.path(C,B).attr({"stroke-dasharray":n,stroke:l,"stroke-width":q}),b.nextRow&&!b.isLast&&(b.first.items.dragEle||(b.first.items.dragEle=r.path(C,h.gridTracker).attr({stroke:c.gridResizeBarColor,"stroke-width":c.gridResizeBarThickness,
visibility:"hidden"})),b.first.items.tracker||(b.first.items.tracker=r.path(C,h.gridTracker).attr({stroke:La,ishot:!0,"stroke-width":30}).css("cursor",ka.svg&&"ew-resize"||"e-resize").drag(this.dragMove,this.dragStart,this.dragUp).data("drag-options",{grid:b.first,xPos:Ma(J+u)-q%2*.5,chart:a})))),b=b.nextCol},dragStart:function(){var b=this.data("drag-options"),a=b.grid,I=a.items,c=a.nextRow,e={style:{lineHeight:16}},g=a.nextCol.style||e,t=c&&c.nextCol&&c.nextCol.style||e,p=b.chart,f=p.canvasLeft,
h=a.dimension,g=V(Qa(a.style.lineHeight,10),Qa(g.lineHeight,10))+2,e=V(Qa((c||e).style.lineHeight,10),Qa(t.lineHeight,10))+2;b.leftSideLimit=f+d(a.dimension.x,0)+g;b.rightSideLimit=f+d(c&&c.dimension.x+c.dimension.w,h.x+h.w)-e;b.origX=b.lastX||(b.lastX=0);I.dragEle.show();p.trackerClicked=!0;b.draged=!1},dragMove:function(b){var a=this.data("drag-options"),d=a.grid.items,c=a.xPos+b,e=a.leftSideLimit,g=a.rightSideLimit;c<e&&(b=e-a.xPos);c>g&&(b=g-a.xPos);c={transform:"t"+(a.origX+b)+ec+0};this.attr(c);
d.dragEle.attr(c);a.draged=!0;a.lastX=b},dragUp:function(){var b=this.data("drag-options"),a=b.chart,d=b.grid,c=d.nextRow,e=a.canvasLeft,g=d.dimension,t=c&&c.dimension,p=d.items,f={hcJSON:{dataTable:{}}};a.trackerClicked=!1;p.dragEle.hide();b.draged&&(g.w=b.xPos+b.lastX-e-g.x,d.nextCol&&(d.nextCol.dimension.w=g.w),f.hcJSON.dataTable[d.key]={dimension:g},c&&(t.w+=t.x-g.x-g.w,t.x=g.x+g.w,c.dimension.w=t.w,c.dimension.x=t.x,a.drawProcess(c),f.hcJSON.dataTable[c.key]={dimension:t}),a.drawProcess(d),cb(a.logic.chartInstance.jsVars._reflowData,
f,!0),b.xPos+=b.lastX,b.lastX+=b.origX)},drawCategories:function(){var b=this,a=b.options,e=a.chart,c=b.paper,r=b.layers,g=b.logic.smartLabel,t=b.canvasTop,p=a.categories,f=a.dataTable.processHeader,h=p.FCCAT_0_0,v=p.axis,B=p.endX,q=p.startX,z=B-q,l=e.ganttLineThickness,n=f.totalPH+f.dimension.h,F=[],m=[],k=r.dataset,r=r.ganttHeaderLayer,x,u,O,S,D,K,L,M,N,C,Z,E,$,J,w;$=function(a){Y.call(this,b,a,"CategoryClick")};J=function(a){ha=clearTimeout(ha);na&&b.gridOutHandler.call(na);na=null;b.gridHoverHandler.call(this);
Y.call(this,b,a,"CategoryRollOver")};w=function(a){na=this;ha=clearTimeout(ha);ha=setTimeout(function(){b.gridOutHandler.call(na)},500);Y.call(na,b,a,"CategoryRollOut")};S=p.items||(p.items={});f=a.dataTable.processHeader;for(S.hoverEle=c.rect(0,t+f.dimension.h,50,n,0,k).attr({fill:La,visibility:"hidden","stroke-width":0});h;)u=z/h.dimension.numCat,D=q+u*(h.index+1),N=D-u,M=h.dimension.h,C=N,E=t+h.dimension.y,K=h.align,L=h.vAlign,O=h.link,S=h.items||(h.items={}),u=!(!h.nextRow&&h.nextCol),Z=a.verticalScroll.enabled&&
u?a.scrollOptions.height:0,x={align:h.align,vAlign:h.vAlign,link:h.link,text:h.text},N=C=d(v.getPixel(h.start),N),D=d(v.getPixel(!u&&h.nextCol.start||(u?V(h.end||0,a.max):void 0)),D),u=D-N,C=ua(C)+.5,E=ua(E)+.5,h.isLast&&(F.push("M",C,E,"v",n),E-=.5*l,M-=l,e.extendCategoryBg&&c.rect(C,E,u,n,0,k).attr({fill:h.bgColor,"stroke-width":0,stroke:e.ganttLineColor}).toBack()),S.background=c.rect(C,E,u+Z,M,0,r).attr({fill:h.bgColor,"stroke-width":0,cursor:O?"pointer":"",stroke:e.ganttLineColor}).click($).data("eventArgs",
x).data("dataObj",h).hover(J,w).data("data",{x:C,width:u,gridObj:h,hoverEle:p.items.hoverEle}),m.push("M",C,E,"v",M),h.nextRow&&m.push("M",q,E+M,"H",B+Z),g.setStyle(h.style),D=g.getSmartText(h.text,u-5,M),h.style.title=D.oriText,S.label=c.text(r).attr({text:D.text,x:C+u*Sa[K]+gb[K],y:E+M-M*tb[L],"text-anchor":Ra[K],cursor:O?"pointer":"","vertical-align":L}).css(h.style).hover(J,w).click($).data("eventArgs",x).data("dataObj",h).data("data",{x:C,width:u,gridObj:h,hoverEle:p.items.hoverEle}),h=h.nextCol;
for(;f;)F.push("M",p.startX,f.yPos,"H",B),f=f.nextCol;S=p.items||(p.items={});S.headerGrid=c.path(m,r).attr({"stroke-dasharray":e.ganttLineDashStyle,"stroke-width":l,stroke:e.ganttLineColor});S.processGrid=c.path(F,k).attr({"stroke-dasharray":e.ganttLineDashStyle,"stroke-width":e.ganttLineThickness,stroke:e.ganttLineColor})},drawScroller:function(){var b=this,a=b.options,e=b.paper,c=b.layers,r=b.canvasTop,g=b.canvasHeight,t=a.scrollOptions,p=a.categories,f=p.startX,h=p.endX-f,v=t.flatScrollBars,B=
{hcJSON:{categories:{scroll:{}}}},q=c.dataset,z=c.datalabels,l=c.ganttTracker,n=c.ganttHeaderLayer,F=b.logic.chartInstance&&b.logic.chartInstance.jsVars._reflowData||{},m=a.chart,k=c.gridLayer,x=(f=a.dataTable)&&f.processHeader,u=b.canvasLeft,O=b.canvasWidth,K=m.gridBorderThickness,D=m.totalGridWidth,ea=Ca(m.ganttStartX,D)+K,L=p.scroll,M=f&&f.__scrollOptions,N=a.verticalScroll,C={hcJSON:{dataTable:{__scrollOptions:{}},verticalScroll:{}}},Z=C.hcJSON.dataTable.__scrollOptions,E=x.totalPH=x.processCount*
x.nextCol.dimension.h,$=c.gridHeaderLayer,J=c.gridTracker,w,s,f=d(p.startX,m.ganttStartX),c=c.scroll=c.scroll||e.group("scroll").insertAfter(l);L.enabled&&(a=p.visibleW/h,L.scroller=e.scroller(f,r+g-t.height,p.visibleW,t.height,!0,{showButtons:t.showButtons,displayStyleFlat:v,buttonWidth:t.buttonWidth,scrollRatio:a,scrollPosition:L.startPercent},c).attr({"scroll-display-style":v,fill:t.color}).scroll(function(a){s=-ua(a*(h-p.visibleW));q&&q.transform(["T",s,q.data("vOffset")]);z&&z.transform(["T",
s,z.data("vOffset")]);l&&l.transform(["T",s,l.data("vOffset")]);n&&n.transform(["T",s,0]);q&&q.data("hOffset",s);z&&z.data("hOffset",s);l&&l.data("hOffset",s);B.hcJSON.categories.scroll.startPercent=a;cb(F,B,!0)}),function(){var a;ka.eve.on("raphael.scroll.start."+L.scroller.id,function(c){a=c;da.raiseEvent("scrollstart",{scrollPosition:c},b.logic.chartInstance)});ka.eve.on("raphael.scroll.end."+L.scroller.id,function(c){da.raiseEvent("scrollend",{prevScrollPosition:a,scrollPosition:c},b.logic.chartInstance)})}(),
L.startPercent&&(s=-ua(L.startPercent*(h-p.visibleW)),q&&q.data("hOffset",s),z&&z.data("hOffset",s),l&&l.data("hOffset",s),n&&n.transform(["T",s,0]),q&&q.transform(["T",s,q.data("vOffset")]),z&&z.transform(["T",s,q.data("vOffset")]),l&&l.transform(["T",s,q.data("vOffset")])));M.enabled&&(M.scroller=e.scroller(u,r+g-t.height,ea,t.height,!0,{showButtons:t.showButtons,displayStyleFlat:v,buttonWidth:t.buttonWidth,scrollRatio:ea/D,scrollPosition:M.startPercent},c).attr({"scroll-display-style":v,fill:t.color}).scroll(function(a){s=
-ua(a*(D-ea));k&&k.transform(["T",s,k.data("vOffset")]);$&&$.transform(["T",s,0]);J&&J.transform(["T",s,J.data("vOffset")]);k.data("hOffset",s);$.data("hOffset",s);J.data("hOffset",s);Z.startPercent=a;cb(F,C,!0)}),function(){var a;ka.eve.on("raphael.scroll.start."+M.scroller.id,function(c){a=c;da.raiseEvent("scrollstart",{scrollPosition:c},b.logic.chartInstance)});ka.eve.on("raphael.scroll.end."+M.scroller.id,function(c){da.raiseEvent("scrollend",{prevScrollPosition:a,scrollPosition:c},b.logic.chartInstance)})}(),
M.startPercent&&(s=-ua(M.startPercent*(D-ea)),k&&k.transform(["T",s,0]),J&&J.transform(["T",s,0]),$&&$.transform(["T",s,0]),k.data("hOffset",s),J.data("hOffset",s)));N.enabled&&(w=m.processHeight-x.dimension.h,N.scroller=e.scroller(u+O-t.height,r+x.dimension.h,t.height,m.processHeight-x.dimension.h,!1,{showButtons:t.showButtons,displayStyleFlat:v,buttonWidth:t.buttonWidth,scrollRatio:w/E,scrollPosition:N.startPercent},c).attr({"scroll-display-style":v,fill:t.color}).scroll(function(a){s=-ua(a*(E-
w));k&&k.transform(["T",k.data("hOffset"),s]);q&&q.transform(["T",q.data("hOffset"),s]);z&&z.transform(["T",z.data("hOffset"),s]);l&&l.transform(["T",l.data("hOffset"),s]);J&&J.transform(["T",J.data("hOffset"),s]);k.data("vOffset",s);J.data("vOffset",s);q.data("vOffset",s);l.data("vOffset",s);z.data("vOffset",s);C.hcJSON.verticalScroll.startPercent=a;cb(F,C,!0)}),function(){var a;ka.eve.on("raphael.scroll.start."+N.scroller.id,function(c){a=c;da.raiseEvent("scrollstart",{scrollPosition:c},b.logic.chartInstance)});
ka.eve.on("raphael.scroll.end."+N.scroller.id,function(c){da.raiseEvent("scrollend",{prevScrollPosition:a,scrollPosition:c},b.logic.chartInstance)})}(),N.startPercent&&(s=-ua(N.startPercent*(E-w)),k&&k.transform(["T",k.data("hOffset"),s]),q&&q.transform(["T",q.data("hOffset"),s]),z&&z.transform(["T",z.data("hOffset"),s]),l&&l.transform(["T",l.data("hOffset"),s]),J&&J.transform(["T",J.data("hOffset"),s]),k.data("vOffset",s),J.data("vOffset",s),q.data("vOffset",s),z.data("vOffset",s),l.data("vOffset",
s)))},finalizeScrollPlots:function(){var b=this,a=b.options,d=b.canvasTop,c=a.categories,e=c.endX,g=c.startX,t=c.scroll,p=a.chart,f=a.dataTable,h=f&&f.processHeader,v=b.canvasLeft,B=p.gridBorderThickness,q=p.totalGridWidth,z=Ca(p.ganttStartX,q)+B,l,n,F,m,k,x=e-g-c.visibleW,e=b.container,u=f&&f.__scrollOptions,O=a.verticalScroll,S=h.totalPH,D=p.processHeight-h.dimension.h,ea,L,M,N,C,t=c.scroll,a=function(a){var e=b.elements.canvas,f=N.left,p=N.top,r=a.type,s=sb&&K.getTouchEvent(a)||hc,f=a.layerX||
s.layerX||(a.pageX||s.pageX)-f;a=a.layerY||s.layerY||(a.pageY||s.pageY)-p;switch(r){case "dragstart":C=e.isPointInside(f,a);ea=f>g&&f<g+c.visibleW;M=f>v&&f<g+c.visibleW&&a>d+h.dimension.h;L=f<g;l=C&&f||null;n=C&&a||null;break;case "dragend":C=!1;k=m=F=n=l=void 0;break;default:if(!C||b.trackerClicked)break;e=f-l;r=a-n;l=f;n=a;ea&&t&&t.scroller&&(F=t.scroller.attrs["scroll-position"]-e/x,t.scroller.attr({"scroll-position":F}));M&&O&&O.scroller&&(m=O.scroller.attrs["scroll-position"]-r/(S-D),O.scroller.attr({"scroll-position":m}));
L&&u&&u.scroller&&(k=u.scroller.attrs["scroll-position"]-e/(q-z),u.scroller.attr({"scroll-position":k}))}};sb&&(N=K.getPosition(e),e&&(jc(e,"dragstart drag dragend",a),ic(e,"dragstart drag dragend",a)))},gridHoverHandler:function(){var b=this.data("data"),a=b.gridObj,d=!!a.prevRow,c={};if(!a.isHeader)if(b.x&&(c.x=b.x),b.y&&(c.y=b.y),b.width&&(c.width=b.width),b.height&&(c.height=b.height),a.hoverColor&&(c.fill=a.hoverColor),a.usePlotHover&&b.hoverEle.attr(c).show(),b.useNext&&a.useHover){for(;a&&
d;)a=a.prevRow,d=!!a.prevRow;for(;a;)a.items.background.attr("fill",a.hoverColor),a=a.nextRow}else a.useHover&&a.items.background.attr("fill",a.hoverColor)},gridOutHandler:function(){var b=this.data("data"),a=b.gridObj,d=!!a.prevRow;if(!a.isHeader)if(a.usePlotHover&&b.hoverEle.hide(),b.useNext&&a.useHover){for(;a&&d;)a=a.prevRow,d=!!a.prevRow;for(;a;)a.items.background.attr("fill",a.bgColor||La),a=a.nextRow}else a.useHover&&a.items.background.attr("fill",a.bgColor)},drawAxes:function(){if(this.options.dataTable){Oa["renderer.cartesian"].drawAxes.call(this,
arguments);var b=this.options,a=b.chart,e=this.paper,c=this.layers,r=c.layerBelowDataset,g=c.layerAboveDataset,t=c.gridLayer,p=c.dataset,f=b.dataTable,h=b.categories,f=f&&f.processHeader,v=this.canvasTop,p=this.canvasLeft,t=a.gridBorderThickness,B=Ca(a.ganttStartX,a.totalGridWidth)+t,q=f.dimension,z=q.h,q=a.processHeight-q.h,l=d(h.startX,a.ganttStartX),h=h.visibleW,a=.5*a.ganttLineThickness,t=.5*t;f.totalPH=f.processCount*f.nextCol.dimension.h;t=c.gridLayer=c.gridLayer||e.group("grid",r).attr({"clip-rect":[p,
v+z+t,B,q-t]});c.gridHeaderLayer=c.gridHeaderLayer||e.group("grid-header",r).attr({"clip-rect":[p,v,B,z+q]});r=c.gridTracker=c.gridTracker||e.group("grid-tracker",r).attr({"clip-rect":[p,v,B,z+q]});t.data("vOffset",0);t.data("hOffset",0);r.data("vOffset",0);r.data("hOffset",0);c.ganttHeaderLayer=c.ganttHeaderLayer||e.group("gantt",g).attr({"clip-rect":[l,v,h+(b.verticalScroll.enabled?b.scrollOptions.height:0),this.chartHeight]});p=c.dataset.attr({"clip-rect":[l,v+z-a,h,q+a]});b=c.datalabels.attr({"clip-rect":[l,
v+z-a-10,h,q+a+10]});e=c.ganttTracker=e.group("gantt-hot",c.tracker).attr({"clip-rect":[l,v+z-a,h,q+a]});p.data("vOffset",0);p.data("hOffset",0);b.data("vOffset",0);b.data("hOffset",0);e.data("vOffset",0);for(e.data("hOffset",0);f;)this.drawProcess(f),f=f.nextRow;this.drawCategories()}},drawPlotGantt:function(b){var a=this,I=a.options,c=I.chart,r=a.paper,g=a.layers,t=b.data,p=b.items,f=t.length,h=g.dataset,v=g.datalabels,B=I.dataTable,q=B.processHeader,z=I.categories,l=z.axis,n=a.canvasTop,F=c.taskBarRoundRadius,
f=I.plotOptions.series,m=isNaN(+f.animation)&&f.animation.duration||1E3*f.animation,k=I.tasksMap||(I.tasksMap={}),x=I.milestone,u=I.trendlines,O=q.dimension.h,K=c.taskDatePadding,D,ea,L,M,N,C,Z,E,$,J,w,s,X,aa,da,V,ha,A,Q,ba,G;b.graphics=[];da=h.shadows||(h.shadows=r.group("shadows",h));f=u&&u.length;for(b=0;b<f;b+=1)w=u[b],w.end||(w.end=w.start),w.end&&(Q=l.getPixel(w.start),V=l.getPixel(w.end),ba=w.thickness,I=w.items||(w.items={}),D=void 0,w.isTrendZone?(J=["M",Q+.5*(V-Q),n+O,"v",n+q.totalPH],ba=
V-Q):(J=["M",Q,n+O,"L",V,n+O+q.totalPH],D=w.dashedStyle),I.trendLine=r.path(J,h).attr({stroke:w.color,"stroke-width":ba,"stroke-dasharray":D}),fb(w.displayValue)&&""!==w.displayValue&&(I.label=r.text(g.ganttHeaderLayer).attr({text:w.displayValue,x:J[1],y:0}).css(w.style),D=I.label._getBBox().height,w=n+c.processHeight+(!z.scroll.enabled||c.marginBottom<D?.5*D:-(.5*D)-5),I.label.attr("y",w)));v.hide();g=function(){v.show()};u=q=function(b){Y.call(this,a,b)};z=function(b){Y.call(this,a,b,"DataPlotRollOver")};
n=function(b){Y.call(this,a,b,"DataPlotRollOut")};O=function(b){b&&b.click(function(b){Y.call(this,a,b)}).hover(function(b){var c=this.data("dataObj");Y.call(this,a,b,"DataPlotRollOver");c.showHoverEffect&&a.taskHoverHandler.call(this,a)},function(b){var c=this.data("dataObj");Y.call(this,a,b,"DataPlotRollOut");c.showHoverEffect&&a.taskHoverOutHandler.call(this,a)}).data("dataObj",A).data("eventArgs",ea)};f=t.length;for(b=0;b<f;b+=1)A=t[b],I=A.processId,w=B[I],V=ha=A.color,I=A.items||(A.items={}),
J=A.animation?m||1E3:0,w&&(G=A.borderThickness,Q=ua(l.getPixel(A.start)),ba=gc(M=l.getPixel(A.end)-Q),Q&&ba&&(L=w.dimension.h,w=w.yPos-L,D=L*(/%/g.test(A.height)&&.01*Fb(A.height,10))||d(A.height,L),s=L*(/%/g.test(A.topPadding)&&.01*Fb(A.topPadding,10))||d(A.topPadding,L),w+=Ca(s,L-D),aa=.5*D,X=A.toolText,s=A.link,(L=p[b])||(L=p[b]={index:b,dataLabel:null,start:A.start,end:A.end,startLabel:null,endLabel:null,tracker:null}),A.index=b,N=e(A.id,b),""!==N&&k[N]&&(k[N].items=L,k[N].x=Q,k[N].y=w,k[N].h=
D,k[N].w=ba),M=N=C=Z=E=$=null,A.showAsGroup?(J?(M=r.path(["M",Q,w],h),M.animate({path:["M",Q,w,"v",D,"L",Q+aa,w+aa,"H",Q+ba-aa,"L",Q+ba,w+D,"v",-D,"H",Q]},J,"normal",g)):(M=r.path(["M",Q,w,"v",D,"L",Q+aa,w+aa,"H",Q+ba-aa,"L",Q+ba,w+D,"v",-D,"H",Q],h),g&&g()),M.attr({fill:V,stroke:A.borderColor,cursor:s?"pointer":"",ishot:!0,"stroke-width":A.borderThickness}).tooltip(X).shadow(c.shadow&&A.shadow,da)):(-1!==A.percentComplete&&(M=ba*A.percentComplete*.01,V=La,N=I.taskFill=r.rect(Q,w,0,D,0,h).attr({fill:ha,
cursor:s?"pointer":"",ishot:!0,"stroke-width":0,width:J?0:M||1}).tooltip(X),J&&N.animate({width:M||1},J,"normal"),C=r.rect(Q,w,0,D,0,h).attr({fill:A.slackColor,cursor:s?"pointer":"",ishot:!0,"stroke-width":0,x:J?Q:Q+M||1,width:J?0:ba-M||1}).tooltip(X),J&&C.animate({x:Q+M||1,width:ba-M||1},J,"normal")),I=ka.crispBound(Q,w,ba,D,G),M=r.rect(I.x,I.y,0,I.height,F,h).attr({fill:V,stroke:A.borderColor,cursor:s?"pointer":"",ishot:!0,"stroke-width":A.borderThickness,width:J?0:I.width||1}).tooltip(X).shadow(c.shadow&&
A.shadow,da),J?M.animate({width:I.width||1},J,"normal",g):g&&g()),fb(A.label)&&""!==A.label&&(I=A.labelAlign,Z=r.text().attr({text:A.label,x:Q+ba*Sa[I]+gb[I],"text-anchor":Ra[I],cursor:s?"pointer":"",ishot:!0,y:w-.5*Qa(A.style.lineHeight,10)-c.taskLabelPadding}).css(A.style),v.appendChild(Z)),fb(A.startDate)&&""!==A.startDate&&(E=r.text().attr({text:A.startDate,x:Q-2-K,y:w+.5*D,cursor:s?"pointer":"",ishot:!0,"text-anchor":"end"}).css(A.style),v.appendChild(E)),fb(A.endDate)&&""!==A.endDate&&($=r.text().attr({text:A.endDate,
x:Q+ba+2+K,y:w+.5*D,cursor:s?"pointer":"",ishot:!0,"text-anchor":"start"}).css(A.style),v.appendChild($)),L.graphic=M,L.percentCompleteGraphic=N,L.slackGraphic=C,L.dataLabel=Z,L.startLabel=E,L.endLabel=$,ea={processId:A.processId,taskId:A.id,start:A._start,end:A._end,showAsGroup:A.showAsGroup,link:A.link,sourceType:"task",percentComplete:-1!==A.percentComplete&&A.percentComplete},N&&N.click(q).hover(z,n).data("eventArgs",ea),C&&C.click(u).data("eventArgs",ea),eb([M,Z,E,$],O)));p=function(b){Y.call(this,
a,b,"MilestoneClick")};B=function(b){var c=this.data("dataObj");Y.call(this,a,b,"MilestoneRollOver");c.showHoverEffect&&c.items.graphic.attr({fill:c.hoverFillColor,stroke:c.hoverBorderColor,"fill-opacity":c.hoverFillAlpha,"stroke-opacity":c.hoverBorderAlpha})};F=function(b){var c=this.data("dataObj");Y.call(this,a,b,"MilestoneRollOut");c.showHoverEffect&&c.items.graphic.attr({fill:c.fillColor,stroke:c.borderColor,"fill-opacity":c.fillAlpha,"stroke-opacity":c.borderAlpha})};this.drawConnectors();I=
null;f=x&&x.length;for(b=0;b<f;b+=1)c=x[b],w=k[c.taskId],I=c.items||(c.items={}),w&&(t=ka.animation({"fill-opacity":c.fillAlpha,"stroke-opacity":c.borderAlpha},m,"normal"),ea={sides:c.sides,date:c.origDate,radius:c.radius,taskId:c.taskId,toolText:c.toolText,link:c.link,numSides:c.numSides},I.graphic=r.polypath(c.numSides,l.getPixel(c.date.ms),w.y+.5*w.h,d(c.radius,.6*w.h),c.startAngle,c.depth,h).attr({fill:c.fillColor,"fill-opacity":m?0:c.fillAlpha,stroke:c.borderColor,"stroke-opacity":m?0:c.borderAlpha,
ishot:!0,cursor:c.link?"pointer":"","stroke-width":c.borderThickness}).tooltip(c.toolText).click(p).data("eventArgs",ea).data("dataObj",c),m&&I.graphic.animate(t.delay(m)),I.graphic.hover(B,F))},taskHoverOutHandler:function(b){var a=b.options.tasksMap;b=this.data("dataObj");var a=a[e(b.id,b.index)].items,d={fill:b.color,stroke:b.borderColor,"stroke-width":b.borderThickness,"stroke-dasharray":b.dashedStyle};-1===b.percentComplete||b.showAsGroup||(a.slackGraphic.attr({fill:b.slackColor}),a.percentCompleteGraphic.attr({fill:b.color}),
delete d.fill);a.graphic.attr(d)},taskHoverHandler:function(b){var a=b.options.tasksMap;b=this.data("dataObj");var a=a[e(b.id,b.index)].items,d={fill:b.hoverFillColor,stroke:b.hoverBorderColor};-1===b.percentComplete||b.showAsGroup||(a.slackGraphic.attr({fill:b.slackHoverColor}),a.percentCompleteGraphic.attr({fill:b.hoverFillColor}),delete d.fill);a.graphic.attr(d)},drawConnectors:function(){var b=this,a=b.paper,d=b.options,c=d.chart.connectorExtension,e=d.connectors,g=d.tasksMap,t=e.length,p=b.layers.dataset,
f=[],d=d.plotOptions.series,d=isNaN(+d.animation)&&d.animation.duration||1E3*d.animation,h,v,B,q,z,l,n,F,m,k,x,u,K,S,D;K=function(a){Y.call(this,b,a,"ConnectorClick")};S=function(a){var c=this.data("dataObj"),d=g[c.fromTaskId],e=g[c.toTaskId],f={stroke:c.hoverColor,"stroke-dasharray":c.dashedStyle,"stroke-width":c.hoverThickness};Y.call(this,b,a,"ConnectorRollOver");c.showHoverEffect&&(eb([d,e],function(a){var b={fill:a.dataObj.hoverFillColor,stroke:a.dataObj.hoverBorderColor};-1===a.dataObj.percentComplete||
a.dataObj.showAsGroup||(a.items.slackGraphic.attr({fill:a.dataObj.slackHoverColor}),a.items.percentCompleteGraphic.attr({fill:a.dataObj.hoverFillColor,stroke:a.dataObj.hoverBorderColor}),delete b.fill);a.items.graphic.attr(b)}),c.items.connector.attr(f))};D=function(a){var c=this.data("dataObj"),d=g[c.fromTaskId],e=g[c.toTaskId],f={stroke:c.color,"stroke-width":c.thickness,"stroke-dasharray":c.dashedStyle};Y.call(this,b,a,"ConnectorRollOut");c.showHoverEffect&&(eb([d,e],function(a){var b={fill:a.dataObj.color,
stroke:a.dataObj.borderColor,"stroke-width":a.dataObj.borderThickness,"stroke-dasharray":a.dataObj.dashedStyle};-1===a.dataObj.percentComplete||a.dataObj.showAsGroup||(a.items.slackGraphic.attr({fill:a.dataObj.slackColor}),a.items.percentCompleteGraphic.attr({fill:a.dataObj.color}),delete b.fill);a.items.graphic.attr(b)}),c.items.connector.attr(f))};for(h=0;h<=t;h+=1)if(B=e[h]||{},l=B.fromTaskId,q=B.toTaskId,v=g[l],m=g[q],q=B.items||(B.items={}),v&&m){k=v.y+.5*v.h;x=m.y+.5*m.h;z=k==x;l=v.x;n=v.x+
v.w;F=m.x;m=m.x+m.w;u=u=0;0===B.fromTaskConnectStart&&1===B.toTaskConnectStart&&(u=1);0===B.fromTaskConnectStart&&0===B.toTaskConnectStart&&(u=2);1===B.fromTaskConnectStart&&1===B.toTaskConnectStart&&(u=3);1===B.fromTaskConnectStart&&0===B.toTaskConnectStart&&(u=4);if(z)switch(v=v.height,u){case 1:u=(F-n)/10;f=["M",n,k,n+u,k,"L",n+u,k,n+u,k-v,"L",n+u,k-v,F-u,k-v,"L",F-u,k-v,F-u,k,"L",F-u,k,F,x,"L",m+c,x,m,x];break;case 2:f=["M",n,k,n+c,k,"L",n+c,k,n+c,k-v,"L",n+c,k-v,m+c,k-v,"L",m+c,x-v,m+c,x];break;
case 3:f=["M",l,k,l-c,k,"L",l-c,k,l-c,k-v,"L",l-c,k-v,F-c,k-v,"L",F-c,k-v,F-c,k,"L",F-c,k,F,k];break;case 4:f=["M",l,k,l-c,k,"L",l-c,k,l-c,k-v,"L",l-c,k-v,m+c,k-v,"L",m+c,k-v,m+c,k,"L",m+c,k,m,k]}else switch(u){case 1:f=["M",n,k,n+(F-n)/2,k,"L",n+(F-n)/2,k,n+(F-n)/2,x,"L",n+(F-n)/2,x,F,x];f=n<=F?["M",n,k,n+(F-n)/2,k,"L",n+(F-n)/2,k,n+(F-n)/2,x,"L",n+(F-n)/2,x,F,x]:["M",n,k,n+c,k,"L",n+c,k,n+c,k+(x-k)/2,"L",n+c,k+(x-k)/2,F-c,k+(x-k)/2,"L",F-c,k+(x-k)/2,F-c,x,"L",F-c,x,F,x];break;case 2:u=0>m-n?0:m-
n;f=["M",n,k,n+c+u,k,"L",n+c+u,k,n+c+u,x,"L",n+c+u,x,m,x];break;case 3:u=0>l-F?0:l-F;f=["M",l,k,l-c-u,k,"L",l-c-u,k,l-c-u,x,"L",l-c-u,x,F,x];break;case 4:f=l>m?["M",l,k,l-(l-m)/2,k,"L",l-(l-m)/2,k,l-(l-m)/2,x,"L",l-(l-m)/2,x,m,x]:["M",l,k,l-c,k,"L",l-c,k,l-c,k+(x-k)/2,"L",l-c,k+(x-k)/2,m+c,k+(x-k)/2,"L",m+c,k+(x-k)/2,m+c,x,"L",m+c,x,m,x]}q.connector?q.connector.animate({path:f}):(l=ka.animation({"stroke-opacity":B.alpha},d,"normal"),q.connector=a.path(f,p).attr({stroke:B.color,"stroke-opacity":0,
"stroke-width":B.thickness,"stroke-dasharray":B.dashedStyle}).animate(l.delay(d)));l={fromTaskId:B.fromTaskId,toTaskId:B.toTaskId,fromTaskConnectStart:B.fromTaskConnectStart,toTaskConnectStart:B.toTaskConnectStart,link:B.link,sourceType:"connector"};q.tracker=a.path(f,p).attr({stroke:La,"stroke-width":V(B.thickness,10),ishot:!0,cursor:B.link?"pointer":""}).data("dataObj",B).data("eventArgs",l).click(K);q.tracker.hover(S,D)}}},Oa["renderer.cartesian"])}]);
