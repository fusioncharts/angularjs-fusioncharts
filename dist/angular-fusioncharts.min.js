/*! angularjs-fusioncharts - v5.0.0*/

!function(){var a,b,c=angular.module("ng-fusioncharts",[]),d={width:"@",height:"@",data:"@",dataset:"@",categories:"@",chart:"@",linkeddata:"@",trendlines:"@",vtrendlines:"@",annotations:"@",colorrange:"@",lineset:"@",axis:"@",connectors:"@",pointers:"@",value:"@",processes:"@",tasks:"@",rows:"@",columns:"@",map:"@",markers:"@",initialized:"&",datasourceDt:"=datasourceDt"},e=["beforelinkeditemopen","linkeditemopened","beforelinkeditemclose","linkeditemclosed","printreadystatechange","dataloadrequestcompleted","dataloaderror","dataloadcancelled","dataloadrequestcancelled","dataupdated","dataupdatecancelled","dataloadrequested","beforedataupdate","realtimeupdatecomplete","chartcleared","slicingend","slicingstart","entityrollout","entityrollover","entityclick","connectorrollover","connectorrollout","connectorclick","markerrollover","markerrollout","markerclick","pagenavigated","rotationend","rotationstart","centerlabelrollover","centerlabelrollout","centerlabelclick","centerlabelchanged","chartclick","chartmousemove","chartrollover","chartrollout","backgroundloaded","backgroundloaderror","legenditemclicked","legenditemrollover","legenditemrollout","logorollover","logorollout","logoclick","logoloaded","logoloaderror","beforeexport","exported","exportcancelled","beforeprint","printcomplete","printcancelled","datalabelclick","datalabelrollover","datalabelrollout","scrollstart","scrollend","onscroll","zoomreset","zoomedout","zoomedin","zoomed","zoommodechanged","pinned","datarestored","beforedatasubmit","datasubmiterror","datasubmitted","datasubmitcancelled","chartupdated","nodeadded","nodeupdated","nodedeleted","connectoradded","connectorupdated","connectordeleted","labeladded","labeldeleted","selectionremoved","selectionstart","selectionend","labelclick","labelrollover","labelrollout","labeldragstart","labeldragend","dataplotdragstart","dataplotdragend","processclick","processrollover","processrollout","categoryclick","categoryrollover","categoryrollout","milestoneclick","milestonerollover","milestonerollout","charttypechanged","overlaybuttonclick","loaded","rendered","drawcomplete","rendercomplete","datainvalid","dataxmlinvalid","dataloaded","nodatatodisplay","legendpointerdragstart","legendpointerdragstop","legendrangeupdated","alertcomplete","realtimeupdateerror","dataplotrollover","dataplotrollout","dataplotclick","linkclicked","beforerender","rendercancelled","beforeresize","resized","resizecancelled","beforedispose","disposed","disposecancelled","linkedchartinvoked","beforedrilldown","drilldown","beforedrillup","drillup","drilldowncancelled","drillupcancelled"],f=e.length;for(a=0;a<f;a++)b="fcevent"+e[a][0].toUpperCase()+e[a].slice(1),d[b]="&";c.directive("fusioncharts",["$http",function(c){return{scope:d,link:function(c,d,g){function h(a,b){a&&(c.datasourceDt.key=b,x.setJSONData(c.datasourceDt))}function i(a){Object.keys(a).forEach(function(a){const b="data"!==a;c.$watch("datasourceDt."+a,function(c,d){c!==d&&b&&h(a,c)},b)})}var j,k,l,m,n,o,p,q,r,s,t,u={NDCObserver:{width:{ifExist:!1,observer:function(a){a&&p.width!=a&&(p.width=a,x.resizeTo(c.width,c.height))}},height:{ifExist:!1,observer:function(a){a&&p.height!=a&&(p.height=a,x.resizeTo(c.width,c.height))}},datasource:{ifExist:!0,observer:function(a){B.dataSource!=a&&(B.dataSource=a,"json"===p.dataFormat?(p.dataSource=JSON.parse(a),z()):(p.dataSource=a,"xml"===p.dataFormat?x.setXMLData(a):"jsonurl"===p.dataFormat?x.setJSONUrl(a):"xmlurl"===p.dataFormat&&x.setXMLUrl(a)))}},type:{ifExist:!1,observer:function(a){a&&p.type!=a&&(p.type=a,x.chartType(a))}},config:{ifExist:!1,observer:function(a){var b,c,d=!1;if(a){b=JSON.parse(a);for(c in b)p[c]!=b[c]&&(d=!0,p[c]=b[c]);d&&A()}}}},DCObserver:{chart:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.chart!=a&&(B.chart=a,p.dataSource.chart=JSON.parse(a),z())}},data:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.data!=a&&(B.data=a,p.dataSource.data=JSON.parse(a),z())}},categories:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.categories!=a&&(B.categories=a,p.dataSource.categories=JSON.parse(a),z())}},dataset:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.dataset!=a&&(B.dataset=a,p.dataSource.dataset=JSON.parse(a),z())}},linkeddata:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.linkeddata!=a&&(B.linkeddata=a,p.dataSource.linkeddata=JSON.parse(a),z())}},trendlines:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.trendlines!=a&&(B.trendlines=a,p.dataSource.trendlines=JSON.parse(a),z())}},vtrendlines:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.vtrendlines!=a&&(B.vtrendlines=a,p.dataSource.vtrendlines=JSON.parse(a),z())}},annotations:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.annotations!=a&&(B.annotations=a,p.dataSource.annotations=JSON.parse(a),z())}},colorrange:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.colorrange!=a&&(B.colorrange=a,p.dataSource.colorrange=JSON.parse(a),z())}},lineset:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.lineset!=a&&(B.lineset=a,p.dataSource.lineset=JSON.parse(a),z())}},axis:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.axis!=a&&(B.axis=a,p.dataSource.axis=JSON.parse(a),z())}},connectors:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.connectors!=a&&(B.connectors=a,p.dataSource.connectors=JSON.parse(a),z())}},pointers:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.pointers!=a&&(B.pointers=a,p.dataSource.pointers=JSON.parse(a),z())}},value:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.value!=a&&(B.value=a,p.dataSource.value=JSON.parse(a),z())}},processes:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.processes!=a&&(B.processes=a,p.dataSource.processes=JSON.parse(a),z())}},tasks:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.tasks!=a&&(B.tasks=a,p.dataSource.tasks=JSON.parse(a),z())}},rows:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.rows!=a&&(B.rows=a,p.dataSource.rows=JSON.parse(a),z())}},columns:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.columns!=a&&(B.columns=a,p.dataSource.columns=JSON.parse(a),z())}},map:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.map!=a&&(B.map=a,p.dataSource.map=JSON.parse(a),z())}},markers:{ifExist:!0,observer:function(a){"json"===p.dataFormat&&"object"==typeof p.dataSource&&B.markers!=a&&(B.markers=a,p.dataSource.markers=JSON.parse(a),z())}}}},v={},w=Object.keys(g),x=null,y={"*":function(a,b){v.hasOwnProperty(a.eventType)&&v[a.eventType](a,b)}},z=function(){j&&clearTimeout(j),j=setTimeout(function(){x&&x.setJSONData&&x.setJSONData(p.dataSource)},0)},A=function(){for(x&&x.dispose&&x.dispose(),x=new FusionCharts(p),c.initialized&&c.initialized({chart:x}),a=0;a<f;a++)b="fcevent"+e[a][0].toUpperCase()+e[a].slice(1),function(b){x.addEventListener(e[a],function(a,d){c[b]&&c[b]({event:a,args:d})})}(b);angular.element(document).ready(function(){d.ready(function(){x=x.render(),c[g.chartobject]=x})})},B={};if(g.events){for(s=g.events.split("."),t=s.length,m=c.$parent,k=0;k<t;k+=1)m=m&&m[s[k]];if(m)for(n in m)m.hasOwnProperty(n)&&(v[n.toLowerCase()]=m[n])}for(k=0;k<w.length;k++)l=w[k],l.match(/^on/i)&&(n=l.slice(2).toLowerCase(),v[n]=c.$parent[g[l]]);p={type:g.type,width:g.width,height:g.height,renderAt:d[0],id:g.chartid,dataFormat:g.dataformat||"json",dataSource:{},events:y};for(o in u.NDCObserver)attrConfig=u.NDCObserver[o],(!1===attrConfig.ifExist||g[o])&&g.$observe(o,attrConfig.observer);g.datasource&&(p.dataSource="json"===p.dataFormat?JSON.parse(g.datasource):g.datasource,B.dataSource=g.datasource);for(o in u.DCObserver)attrConfig=u.DCObserver[o],r=g[o],r?(g.$observe(o,attrConfig.observer),B[o]=r,"json"===p.dataFormat&&"object"==typeof p.dataSource&&(p.dataSource[o]=JSON.parse(r))):!1===attrConfig.ifExist&&g.$observe(o,attrConfig.observer);if(g.config){q=JSON.parse(g.config);for(l in q)p[l]=q[l]}A(),"timeseries"===g.type.toLowerCase()&&c.datasourceDt?(c.$watch("datasourceDt.data",function(a,b){a!==b&&h(a,"data")},!1),i(c.datasourceDt)):c.datasourceDt&&(g.datasourceDt=c.datasourceDt,p.dataSource=c.datasourceDt,B.dataSource=c.datasourceDt,z(),c.$watch("datasourceDt",function(a,b){a!==b&&(p.dataSource=c.datasourceDt,B.dataSource=c.datasourceDt,z(),"json"===p.dataFormat?z():"xml"===p.dataFormat?x.setXMLData(a):"jsonurl"===p.dataFormat?x.setJSONUrl(a):"xmlurl"===p.dataFormat&&x.setXMLUrl(a))},!0)),c.$on("$destroy",function(){x&&x.dispose&&x.dispose()})}}}])}();