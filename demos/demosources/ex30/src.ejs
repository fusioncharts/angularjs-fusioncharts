<% if(src=== "js") { %>
  var jsonify = res => res.json();
  var dataFetch = fetch(
    'https://s3.eu-central-1.amazonaws.com/fusion.store/ft/data/area-chart-with-time-axis-data.json'
  ).then(jsonify);
  var schemaFetch = fetch(
    'https://s3.eu-central-1.amazonaws.com/fusion.store/ft/schema/area-chart-with-time-axis-schema.json'
  ).then(jsonify);

  var myApp = angular.module("myApp", ["ng-fusioncharts"]);
  myApp.controller("MyController", ["$scope", function($scope){
    $scope.myDataSource = {
      data: null,
      chart: {
        showLegend: 0
      },
      caption: {
        text: 'Daily Visitors Count of a Website'
      },
      yAxis: [
        {
          plot: {
            value: 'Daily Visitors',
            type: 'area'
          },
          title: 'Daily Visitors (in thousand)'
        }
      ]
    };

    Promise.all([dataFetch, schemaFetch]).then(res => {
      const data = res[0];
      const schema = res[1];
      const fusionTable = new FusionCharts.DataStore().createDataTable(
        data,
        schema
      );
      $scope.$apply(function() {
        $scope.myDataSource.data = fusionTable;
      });
    });
  }]);
  <% } else if(src==="html") { %>
  <!-- 
      Include script files in your index.html
      ------------------------------------------
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>
      <script type="text/javascript" src="path/to/fusioncharts/fusioncharts.js"></script>
      <script type="text/javascript" src="path/to/fusioncharts/themes/fusioncharts.theme.gammel.js"></script>
      <script type="text/javascript" src="path/to/angularjs-fusioncharts.min.js"></script>
     
      
  -->
  <div ng-app="myApp">
    <div ng-controller="MyController"> 
          <div id="chart-container">
              <!--To get the reference of chart instance listen to initialized event-->
                  <fusioncharts
                    type="timeseries"
                    width="100%"
                    id="id1"
                    height=500
                    dataFormat="json"
                    datasource-dt="myDataSource">
                  </fusioncharts>
          </div></br>
    </div>
  </div>
  <% } else if(src==="schema") { %>
    [
      {
        "name": "Time",
        "type": "date",
        "format": "%Y-%m-%d"
      },
      {
        "name": "Daily Visitors",
        "type": "number"
      }
    ]
  <% } else if(src==="data") { %>
    // A shortened version of the data is given here.
    // Please check the link below to see the complete data:
    // https://s3.eu-central-1.amazonaws.com/fusion.store/ft/data/area-chart-with-time-axis-data.json
    [
      [
        "2016-01-01",
        5
      ],
      [
        "2016-01-02",
        90
      ],
      [
        "2016-01-03",
        19
      ],
      [
        "2016-01-04",
        74
      ],
      [
        "2016-01-05",
        81
      ],
      [
        "2016-01-06",
        48
      ],
      [
        "2016-01-07",
        60
      ],
      [
        "2016-01-08",
        18
      ],
      [
        "2016-01-09",
        36
      ],
      [
        "2016-01-10",
        53
      ],
      [
        "2016-01-11",
        15
      ],
      [
        "2016-01-12",
        34
      ],
      [
        "2016-01-13",
        71
      ],
      [
        "2016-01-14",
        47
      ],
      [
        "2016-01-15",
        35
      ],
      [
        "2016-01-16",
        99
      ],
      [
        "2016-01-17",
        79
      ],
      [
        "2016-01-18",
        25
      ],
      [
        "2016-01-19",
        14
      ],
      [
        "2016-01-20",
        16
      ],
      [
        "2016-01-21",
        79
      ],
      [
        "2016-01-22",
        15
      ],
      [
        "2016-01-23",
        94
      ],
      [
        "2016-01-24",
        77
      ],
      [
        "2016-01-25",
        38
      ],
      [
        "2016-01-26",
        17
      ],
      [
        "2016-01-27",
        24
      ],
      [
        "2016-01-28",
        53
      ],
      [
        "2016-01-29",
        52
      ],
      [
        "2016-01-30",
        76
      ],
      [
        "2016-01-31",
        86
      ],
      [
        "2016-02-01",
        71
      ],
      [
        "2016-02-02",
        84
      ],
      [
        "2016-02-03",
        3
      ],
      [
        "2016-02-04",
        86
      ],
      [
        "2016-02-05",
        86
      ],
      [
        "2016-02-06",
        93
      ],
      [
        "2016-02-07",
        66
      ],
      [
        "2016-02-08",
        18
      ],
      [
        "2016-02-09",
        95
      ],
      [
        "2016-02-10",
        21
      ],
      [
        "2016-02-11",
        19
      ],
      [
        "2016-02-12",
        28
      ],
      [
        "2016-02-13",
        36
      ],
      [
        "2016-02-14",
        95
      ],
      [
        "2016-02-15",
        83
      ],
      [
        "2016-02-16",
        43
      ],
      [
        "2016-02-17",
        19
      ],
      [
        "2016-02-18",
        46
      ],
      [
        "2016-02-19",
        75
      ],
      [
        "2016-02-20",
        61
      ],
      [
        "2016-02-21",
        54
      ],
      [
        "2016-02-22",
        96
      ],
      [
        "2016-02-23",
        56
      ],
      [
        "2016-02-24",
        78
      ],
      [
        "2016-02-25",
        32
      ],
      [
        "2016-02-26",
        39
      ],
      [
        "2016-02-27",
        7
      ],
      [
        "2016-02-28",
        92
      ],
      [
        "2016-02-29",
        18
      ],
      [
        "2016-03-01",
        33
      ],
      [
        "2016-03-02",
        32
      ],
      [
        "2016-03-03",
        49
      ],
      [
        "2016-03-04",
        59
      ],
      [
        "2016-03-05",
        42
      ],
      [
        "2016-03-06",
        94
      ],
      [
        "2016-03-07",
        15
      ],
      [
        "2016-03-08",
        31
      ],
      [
        "2016-03-09",
        32
      ],
      [
        "2016-03-10",
        93
      ],
      [
        "2016-03-11",
        53
      ],
      [
        "2016-03-12",
        64
      ],
      [
        "2016-03-13",
        42
      ],
      [
        "2016-03-14",
        18
      ],
      [
        "2016-03-15",
        4
      ],
      [
        "2016-03-16",
        83
      ],
      [
        "2016-03-17",
        35
      ],
      [
        "2016-03-18",
        96
      ],
      [
        "2016-03-19",
        54
      ],
      [
        "2016-03-20",
        40
      ],
      [
        "2016-03-21",
        38
      ],
      [
        "2016-03-22",
        21
      ],
      [
        "2016-03-23",
        34
      ],
      [
        "2016-03-24",
        94
      ],
      [
        "2016-03-25",
        89
      ],
      [
        "2016-03-26",
        86
      ]
    ]
  <% } %>